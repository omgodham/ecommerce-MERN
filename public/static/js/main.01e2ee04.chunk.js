(this.webpackJsonpecomfrontend=this.webpackJsonpecomfrontend||[]).push([[0],{32:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},49:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(17),a=c.n(r),o=c(5),s=c(9),i=c(4),l=c(8),j=c(3),d=(c(49),c(24)),u=c.n(d),b=c(30),m=c.n(b),h=c(42),O=c.n(h),p=c(37),f=c.n(p),x=c(36),g=c.n(x),N=c(41),v=c.n(N),y="http://localhost:8000/api",C=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("auth")&&JSON.parse(localStorage.getItem("auth")))},S=c(0);function w(e){var t=e.reload,c=e.setReload,r=void 0===c?function(e){return e}:c,a=Object(n.useState)(""),d=Object(i.a)(a,2),b=d[0],h=d[1],p=Object(n.useState)({cart:!1,account:!1,logout:!1,accountBlock:!1}),x=Object(i.a)(p,2),N=x[0],w=x[1],E=Object(n.useState)(!1),T=Object(i.a)(E,2),k=T[0],A=T[1],D=N.cart,P=N.account,_=N.accountBlock,I=N.logout;N.search;Object(n.useEffect)((function(){var e=document.querySelector(".sidebar"),t=document.querySelector(".toggle-btn");e.style.display="none",t.addEventListener("click",(function(){e.style.display="block"})),document.querySelector(".close-btn").addEventListener("click",(function(){e.style.display="none",t.style.display="none"})),window.addEventListener("resize",(function(){window.outerWidth>="780"&&(e.style.display="none")}))}),[]);var R=function(e){w(Object(j.a)(Object(j.a)({},N),{},Object(l.a)({},e,!0)))},F=function(e){w(Object(j.a)(Object(j.a)({},N),{},Object(l.a)({},e,!1)))},M=function(){var e;(e=C().token,console.log(e),localStorage.removeItem("auth"),fetch("".concat(y,"/signout"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){console.log(e),e.error?alert(e.error):A(!0)}))};return Object(S.jsxs)("div",{className:"navbar-container",children:[Object(S.jsx)(v.a,{className:"toggle-btn",id:"toggle-btn"}),Object(S.jsxs)("div",{className:"navbar",children:[Object(S.jsxs)("div",{className:"left-content",children:[Object(S.jsx)(o.b,{to:"/",className:"nav-logo",children:"Wokiee"}),Object(S.jsxs)("ul",{className:"nav-container",children:[Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/collections/men",className:"nav-links",children:"MEN"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/collections/women",className:"nav-links",children:"WOMEN"})})]})]}),Object(S.jsxs)("div",{className:"right-content",children:[Object(S.jsxs)("form",{className:"logo-info search",children:[Object(S.jsx)("input",{type:"search",className:"form-control",id:"input-search",value:b,placeholder:"Search",onChange:function(e){h(e.target.value)}}),Object(S.jsx)(o.b,{to:"/products?q=".concat(b),style:{color:"black",textDecoration:"none"},children:Object(S.jsx)("button",{type:"submit",className:"search-btn",children:Object(S.jsx)(O.a,{className:"icon",onMouseOver:function(){return R("search")},onMouseOut:function(){return F("search")},onClick:function(e){e.preventDefault(),r(!t)}})})})]}),Object(S.jsxs)("div",{className:"logo-info",children:[Object(S.jsxs)(o.b,{to:"/cart",style:{color:"black",textDecoration:"none"},children:[" ",Object(S.jsx)(u.a,{className:"icon",onMouseOver:function(){return R("cart")},onMouseOut:function(){return F("cart")}})]}),Object(S.jsx)("span",{style:{display:D?"":"none"},children:"Cart"})]}),!C()&&Object(S.jsxs)("div",{className:"logo-info user-info",children:[Object(S.jsx)(m.a,{className:"icon",onClick:function(){w(Object(j.a)(Object(j.a)({},N),{},{accountBlock:!_}))},onMouseOver:function(){return R("account")},onMouseOut:function(){return F("account")}}),P&&Object(S.jsx)("span",{children:"My Account"})]}),C()&&Object(S.jsx)("div",{className:"logo-info user-info",children:Object(S.jsx)(o.b,{to:1===C().user.role?"/admin/dashboard":"/user/dashboard",style:{textDecoration:"none"},children:Object(S.jsxs)("h6",{style:{textTransform:"capitalize"},children:["Welcome ",C().user.name]})})}),C()&&Object(S.jsxs)("div",{className:"logo-info user-info",children:[Object(S.jsx)(g.a,{className:"icon",onClick:M,onMouseOver:function(){return R("logout")},onMouseOut:function(){return F("logout")}}),I&&Object(S.jsx)("span",{children:"logout"})]}),_&&Object(S.jsxs)("div",{className:"info-popup",children:[Object(S.jsxs)("span",{children:[Object(S.jsx)(m.a,{style:{marginRight:"2px"}}),Object(S.jsx)(o.b,{to:"/signin",children:"Sign In"})]}),Object(S.jsxs)("span",{children:[Object(S.jsx)(f.a,{style:{marginRight:"2px"}}),Object(S.jsx)(o.b,{to:"/signup",children:"Register"})]})]})]}),function(e){return e&&Object(S.jsx)(s.a,{to:"/"})}(k)]}),Object(S.jsxs)("div",{className:"sidebar",id:"sidebar",children:[Object(S.jsx)("div",{className:"close-btn",children:"X Close"}),Object(S.jsxs)("ul",{className:"sidebar-list",children:[Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/collections/men",className:"sidebar-item",children:"MEN"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{className:"sidebar-item",to:"/collections/women",children:"WOMEN"})}),!C()&&Object(S.jsxs)("li",{children:[Object(S.jsx)(m.a,{style:{marginRight:"2px"}}),Object(S.jsx)(o.b,{to:"/signin",className:"sidebar-item",children:"Sign In"})]}),!C()&&Object(S.jsxs)("li",{children:[Object(S.jsx)(f.a,{style:{marginRight:"2px"}}),Object(S.jsx)(o.b,{className:"sidebar-item",to:"/signup",children:"Register"})]}),C()&&Object(S.jsxs)("li",{children:[Object(S.jsx)(u.a,{style:{marginRight:"2px"}}),Object(S.jsx)(o.b,{className:"sidebar-item",to:"/cart",children:"Shopping Cart"})]}),C()&&Object(S.jsxs)("li",{children:[Object(S.jsx)(g.a,{className:"icon",onClick:M,onMouseOver:function(){return R("logout")},onMouseOut:function(){return F("logout")}}),"Logout"]})]})]})]})}c(57);function E(e){var t=e.children,c=e.title,n=void 0===c?"This is the title":c,r=e.reload,a=e.setReload,o=void 0===a?function(e){return e}:a;return Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)(w,{reload:r,setReload:o}),Object(S.jsx)("div",{children:Object(S.jsx)("h1",{className:"text-black",children:n})}),Object(S.jsx)("div",{children:t}),Object(S.jsx)("footer",{children:Object(S.jsxs)("div",{className:"footer",children:[Object(S.jsx)("h5",{children:"Contact us at: wookiestores@yahoo.in"}),Object(S.jsx)("h5",{children:"Telephone no: +125332253"})]})})]})}c(39),c(32),c(58);var T=function(e){return fetch("".concat(y,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},k=function(e){return fetch("".concat(y,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},A=function(){return fetch("".concat(y,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},D=function(){return fetch("".concat(y,"/products"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},P=function(e){return"".concat(y,"/product/photo/").concat(e)},_=function(e,t){return fetch("".concat(y,"/orders/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},I=function(e,t,c,n){return fetch("".concat(y,"/order/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},R=function(e,t){return fetch("".concat(y,"/user/cart/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function F(e){var t=e.id,c=e.name,r=void 0===c?"Name":c,a=e.price,o=void 0===a?"$10":a,l=e.isHome,j=void 0===l||l,d=C(),b=d.user,m=d.token,h=Object(n.useState)(!1),O=Object(i.a)(h,2),p=O[0],f=O[1],x=Object(n.useState)({position:"absolute",bottom:"-50px",right:"0px",left:"0px",zIndex:"-1"}),g=Object(i.a)(x,2),N=g[0],v=g[1];return Object(S.jsxs)("div",{className:"card",id:"card",onMouseOver:function(){document.getElementById(r).classList.add("change-card"),v({position:"absolute",bottom:"2px",right:"0px",left:"0px",zIndex:"1",transition:"all 0.5s ease-in-out"})},onMouseOut:function(){f(!p),document.getElementById(r).classList.remove("change-card"),v({position:"absolute",bottom:"-50px",right:"0px",left:"0px",zIndex:"-1",marginTop:"0px",transition:"all 0.3s ease-in-out"})},children:[Object(S.jsx)("div",{className:"product-image",children:Object(S.jsx)("img",{src:P(t),className:"card-img-top",alt:""})}),Object(S.jsxs)("var",{id:r,children:["  ",Object(S.jsxs)("div",{className:"card-body",id:"card-body",children:[Object(S.jsx)("h5",{className:"card-title",style:{textTransform:"capitalize"},children:r}),Object(S.jsxs)("p",{className:"card-text",children:["$",o,".00"]})]})]}),Object(S.jsx)("div",{style:N,children:j?Object(S.jsxs)("button",{onClick:function(){(function(e,t,c){return fetch("".concat(y,"/user/cart/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(b._id,m,{product:t}).then((function(e){e.error?console.log(e):s.a}))},className:"btn btn-primary",children:[Object(S.jsx)(u.a,{}),"ADD TO CART"]}):Object(S.jsxs)("button",{onClick:function(){},className:"btn btn-primary",children:[Object(S.jsx)(u.a,{}),"REMPOVE FROM CART"]})})]})}c(19);var M=c(11),B=c.n(M),U=c(15),z=function(){var e=Object(U.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(y,"/create-checkout-session"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function L(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=C(),l=a.user,j=a.token,d=Object(n.useState)(!0),u=Object(i.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),p=O[0],f=O[1],x=Object(n.useState)(!1),g=Object(i.a)(x,2),N=(g[0],g[1]);Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search);if(e.get("success")){var t=JSON.parse(localStorage.getItem("order"));(function(e,t,c){return console.log(t),fetch("".concat(y,"/create/order/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(t)}).then((function(e){return e.json()}))})(l._id,t,j).then((function(e){e.error&&console.log(e.error)})).catch((function(e){return console.log(e)})),localStorage.removeItem("order"),alert("Order Successfully created"),f(!0),v()}e.get("canceled")&&(alert("Order Canceled"),f(!0))}),[]);var v=function(){R(l._id,j).then((function(e){e.error?console.log(e.error):console.log("cart empty")}))},w=function(){D().then((function(e){e.error?N(e.error):r(e)})).catch((function(e){return console.log(e)})),m(!1)};return Object(S.jsxs)(E,{title:"",children:[Object(S.jsxs)("div",{className:"categories mt-4",children:[Object(S.jsxs)("div",{className:"left-one",children:[Object(S.jsxs)("div",{className:"sale",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_03_650x.jpg?v=1542298540",alt:""}),Object(S.jsx)(o.b,{to:"/collections/sale",className:"btn btn-info",children:"SALE"})]}),Object(S.jsxs)("div",{className:"new",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_04_325x.jpg?v=1542298540"}),Object(S.jsx)(o.b,{to:"/collections/new",className:"btn btn-info",children:"NEW"})]})]}),Object(S.jsxs)("div",{className:"center-one women",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_06_325x.jpg?v=1542298540"}),Object(S.jsx)(o.b,{to:"/collections/women",className:"btn btn-info",children:"WOMEN"})]}),Object(S.jsxs)("div",{className:"right-one",children:[Object(S.jsxs)("div",{className:"right-top",children:[Object(S.jsxs)("div",{className:"men",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_05_325x.jpg?v=1542298540"}),Object(S.jsx)(o.b,{to:"/collections/men",className:"btn btn-info",children:"MEN"})]}),Object(S.jsxs)("div",{className:"accessories",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_07_325x.jpg?v=1542298540"}),Object(S.jsx)(o.b,{to:"/collections/accessories",className:"btn btn-info",children:"ACCESSORIES"})]})]}),Object(S.jsxs)("div",{className:"right-bottom",children:[Object(S.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_08_669x.jpg?v=1542298540"}),Object(S.jsx)(o.b,{to:"/collections/shoe",className:"btn btn-info",children:"SHOES"})]})]})]}),Object(S.jsxs)("div",{className:"products-area text-center",children:[Object(S.jsx)("h4",{children:"BEST SELLER"}),Object(S.jsx)("h6",{children:"TOP PRODUCTS OF THIS WEEK"}),b?Object(S.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden"})}):Object(S.jsx)("div",{className:"products-container",children:c.map((function(e,t){return Object(S.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price},t)}))})]}),function(e){return e&&Object(S.jsx)(s.a,{to:"/"})}(p)]})}var G=c(29);function H(e){var t=e.component,c=Object(G.a)(e,["component"]);return Object(S.jsx)(s.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return C()?Object(S.jsx)(t,Object(j.a)({},e)):Object(S.jsx)(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}function J(e){var t=e.component,c=Object(G.a)(e,["component"]);return Object(S.jsx)(s.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return C()&&1===C().user.role?Object(S.jsx)(t,Object(j.a)({},e)):Object(S.jsx)(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}c(60);function q(){var e=Object(n.useState)({email:"",password:"",error:!1,success:!1,isLoading:!1}),t=Object(i.a)(e,2),c=t[0],r=t[1],a=c.email,o=c.password,d=c.error,u=c.success,b=(c.isLoading,function(e){var t=e.target,n=t.name,a=t.value;r(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},n,a)))});return Object(S.jsxs)(E,{title:"SIGN IN",children:[Object(S.jsxs)("form",{className:"text-left",style:{width:"50%",margin:"0 auto"},children:[function(e){return e&&Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})}(d),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(S.jsx)("input",{type:"email",onChange:b,className:"form-control",name:"email",value:a,id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(S.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(S.jsx)("input",{type:"password",onChange:b,name:"password",value:o,className:"form-control",id:"exampleInputPassword1"})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){e.preventDefault(),function(e){return fetch("".concat(y,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:a,password:o}).then((function(e){e.error?r(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):function(e,t){"undefined"!==typeof window&&localStorage.setItem("auth",JSON.stringify(e)),t()}(e,(function(){r({email:"",password:"",error:!1,success:!0,isLoading:!0})}))}))},children:"Signin"})]}),function(e){if(console.log(C()),e){if(0===C().user.role)return Object(S.jsx)(s.a,{to:"/user/dashboard"});if(1===C().user.role)return Object(S.jsx)(s.a,{to:"/admin/dashboard"})}if(C())return Object(S.jsx)(s.a,{to:"/"})}(u)]})}function W(){var e=Object(n.useState)({name:"",email:"",password:"",confirm_password:"",error:!1,success:!1}),t=Object(i.a)(e,2),c=t[0],r=t[1],a=c.name,o=c.email,s=c.password,d=c.confirm_password,u=c.error,b=c.success,m=function(e){var t=e.target,n=t.name,a=t.value;r(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},n,a)))};return Object(S.jsx)(E,{title:"CREATE AN ACCOUNT",children:Object(S.jsxs)("form",{className:"text-left",style:{width:"50%",margin:"0 auto"},children:[function(e){return e&&Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})}(u),function(e){return e&&Object(S.jsx)("div",{className:"alert alert-success",role:"alert",children:"User Create Successfully"})}(b),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputEmail2",className:"form-label",children:"Your Name"}),Object(S.jsx)("input",{type:"text",onChange:m,className:"form-control",value:a,name:"name",id:"exampleInputEmail2"})]}),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(S.jsx)("input",{type:"email",onChange:m,className:"form-control",name:"email",value:o,id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(S.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(S.jsx)("input",{type:"password",onChange:m,name:"password",value:s,className:"form-control",id:"exampleInputPassword1"})]}),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirmed Password"}),Object(S.jsx)("input",{type:"password",onChange:m,className:"form-control",value:d,name:"confirm_password",id:"exampleInputPassword1"})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){console.log(c),e.preventDefault(),function(e){return fetch("".concat(y,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({name:a,email:o,password:s,confirm_password:d}).then((function(e){console.log(e),e.error?r(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):r({name:"",email:"",password:"",confirm_password:"",error:!1,success:!0})}))},children:"Sign Up"})]})})}var K=c(23);c(61);function Y(){var e=C(),t=e.user,c=e.token,r=Object(n.useState)([]),a=Object(i.a)(r,2),o=a[0],s=a[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),d=j[0],u=j[1];Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(y,"/orders/user/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t._id,c).then((function(e){e.error?console.log(e.error):s(e)}))}),[d]);var b=function(e){var r=e.order,a=e.products,o=e.index,s=e.reload,l=e.setReload,j=Object(n.useState)([]),d=Object(i.a)(j,2),u=d[0],b=d[1];Object(n.useEffect)((function(){console.log(a),a.map((function(e,t){m(e.product)}))}),[]);var m=function(){var e=Object(U.a)(B.a.mark((function e(t){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:c=e.sent,b((function(e){return[].concat(Object(K.a)(e),[c.name])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"order",children:[Object(S.jsxs)("h4",{children:[o+1,". Order On : ",r.createdAt.split("T")[0]," "]}),Object(S.jsx)("div",{children:Object(S.jsx)("ul",{className:"list-group",children:u&&u.map((function(e,t){return Object(S.jsx)("li",{className:"list-group-item",children:e},t)}))})}),Object(S.jsxs)("h5",{children:["Amount: $",r.amount,".00"]}),"Cancelled"!==r.status&&Object(S.jsx)("h5",{className:"text-primary p-2",children:r.status}),"Cancelled"==r.status?Object(S.jsx)("h5",{className:"text-danger ml-2",children:"Order Cancelled "}):Object(S.jsx)("button",{className:"btn btn-outline-warning m-2",onClick:function(){I(r._id,t._id,{status:"Cancelled"},c).then((function(e){console.log(e),e.error?console.log(e.error):l(!s)}))},children:"Cancel Order"})]},o)};return Object(S.jsx)(E,{title:"User Dashboard",children:Object(S.jsx)("div",{className:"orders-container",children:o&&o.map((function(e,t){return Object(S.jsx)(b,{order:e,products:e.products,index:t,reload:d,setReload:u},t)}))})})}c(62);function $(){var e=C().user;return Object(S.jsx)(E,{title:"ADMIN DASHBOARD",children:Object(S.jsxs)("div",{className:"admin-dashboard",children:[Object(S.jsx)("div",{className:"admin-actions",children:Object(S.jsxs)("ul",{className:"list-group",children:[Object(S.jsx)("li",{className:"list-group-item disabled bg-danger text-white",children:"Admin Actions"}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/admin/create/product",className:"list-group-item",children:"Create Product"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/admin/create/category",className:"list-group-item",children:"Create Category"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/admin/manage/products",className:"list-group-item",children:"Manage Product"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/admin/manage/categories",className:"list-group-item",children:"Manage Category"})}),Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:"/admin/manage/orders",className:"list-group-item",children:"Manage Orders"})})]})}),Object(S.jsxs)("div",{className:"admin-info",children:[Object(S.jsx)("h3",{children:"Admin Info"}),Object(S.jsx)("span",{className:"badge badge-primary",children:"Name : "}),Object(S.jsx)("h5",{style:{textTransform:"capitalize"},children:e.name}),Object(S.jsx)("span",{className:"badge badge-primary",children:"Email : "})," ",Object(S.jsx)("p",{children:e.email}),Object(S.jsx)("span",{className:"badge badge-success",children:"You are Admin"})]})]})})}function Q(){var e=C(),t=e.user,c=e.token,r=Object(n.useState)({name:"",description:"",price:"",photo:"",stock:"",category:"",subcategory:"",categories:[],error:!1,success:!1,formData:""}),a=Object(i.a)(r,2),s=a[0],d=a[1],u=s.name,b=s.description,m=s.price,h=s.stock,O=(s.photo,s.category),p=s.categories,f=s.subcategory,x=s.error,g=s.success,N=s.formData;Object(n.useEffect)((function(){v()}),[]);var v=function(){A().then((function(e){e.error?d(Object(j.a)(Object(j.a)({},s),{},{error:!0,success:!0})):d(Object(j.a)(Object(j.a)({},s),{},{categories:e,formData:new FormData}))})).catch((function(e){return console.log(e)}))},w=function(e){return function(t){var c,n="photo"===e?t.target.files[0]:t.target.value;N.set(e,n),d(Object(j.a)(Object(j.a)({},s),{},(c={},Object(l.a)(c,e,n),Object(l.a)(c,"success",!1),c))),console.log(s)}},T=function(e){e.preventDefault(),console.log("clicked"),function(e,t,c){return console.log(e,t,c),fetch("".concat(y,"/create/product/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,N).then((function(e){console.log(e),e.error?d(Object(j.a)(Object(j.a)({},s),{},{error:e.error,success:!1})):d(Object(j.a)(Object(j.a)({},s),{},{name:"",description:"",stock:"",category:"",subcategory:"",photo:"",price:"",error:!1,success:!0}))})).catch((function(e){return console.log(e)}))};return Object(S.jsx)(E,{title:"CREATE PRODUCT",description:"Here you can create new products for your customers",children:Object(S.jsxs)("div",{children:[x&&Object(S.jsx)("div",{className:"alert alert-danger container",children:x}),g&&Object(S.jsx)("div",{className:"alert alert-success container",children:"Successfully Created"}),Object(S.jsxs)("form",{className:"container text-left border p-3",children:[Object(S.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputPhoto",className:"col-sm-2 col-form-label",children:"Image"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"file",className:"form-control",id:"inputPhoto",onChange:w("photo")})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:w("name"),placeholder:"Enter Name",value:u})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputDes",className:"col-sm-2 col-form-label",children:"Description"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("textarea",{type:"text",className:"form-control",id:"inputDes",onChange:w("description"),placeholder:"Enter Description",value:b})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputPrice",className:"col-sm-2 col-form-label",children:"Price"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"number",className:"form-control",id:"inputPrice",onChange:w("price"),placeholder:"Enter Price",value:m})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Category"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:w("category"),value:O,children:[Object(S.jsx)("option",{value:"",children:"Select"}),p.map((function(e,t){if(e.main)return Object(S.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputSubCategory",className:"col-sm-2 col-form-label",children:"Subcategory"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputSubCategory",onChange:w("subcategory"),value:f,children:[Object(S.jsx)("option",{value:"",children:"Select"}),p.map((function(e,t){if(!e.main)return Object(S.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputStock",className:"col-sm-2 col-form-label",children:"Stock"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"number",className:"form-control",id:"inputSold",onChange:w("stock"),placeholder:"Enter Stock",value:h})})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",onClick:T,children:"Create Product"})]})]})})}function V(){var e=Object(n.useState)({name:"",main:!1,categoryType:"",error:!1,success:!1}),t=Object(i.a)(e,2),c=t[0],r=t[1],a=c.name,s=c.main,d=c.error,u=c.success,b=c.categoryType,m=C(),h=m.user,O=m.token,p=function(e){return function(t){var n,a;"categoryType"===e&&"category"===t.target.value?r(Object(j.a)(Object(j.a)({},c),{},(n={},Object(l.a)(n,e,t.target.value),Object(l.a)(n,"main",!0),n))):r(Object(j.a)(Object(j.a)({},c),{},(a={},Object(l.a)(a,e,t.target.value),Object(l.a)(a,"main",!1),a)))}};return Object(S.jsx)(E,{title:"CREATE CATEGORY",children:Object(S.jsxs)("form",{className:"container text-left border p-3",children:[Object(S.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),u&&Object(S.jsx)("div",{className:"alert alert-success container",children:"Successfully Created"}),d&&Object(S.jsx)("div",{className:"alert alert-danger container",children:d}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:p("name"),placeholder:"Enter Name",value:a})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Type"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:p("categoryType"),value:b,children:[Object(S.jsx)("option",{value:"",children:"Select Category Type"}),Object(S.jsx)("option",{value:"category",children:"Category"}),Object(S.jsx)("option",{value:"subcategory",children:"Subcategory"})]})})]}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(y,"/create/category/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(h._id,O,{name:a,main:s}).then((function(e){e.error?r(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):r({name:"",main:!1,error:!1,success:!0,categoryType:""})}))},className:"btn btn-outline-primary mt-4",children:"Create Category"})]})})}c(63);function Z(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=C(),s=a.user,l=a.token;Object(n.useEffect)((function(){j()}),[]);var j=function(){A().then((function(e){e.error?console.log(e.error):r(e)}))},d=function(e){(function(e,t,c){return fetch("".concat(y,"/category/").concat(c,"/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(s._id,l,e).then((function(e){e.error?console.log(e.error):(j(),alert("Deleted Successfully"))}))};return Object(S.jsx)(E,{title:"Manage Categories",children:Object(S.jsxs)("div",{className:"categories-container text-left",children:[Object(S.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4 mt-4",children:"Admin Dashboard"}),Object(S.jsx)("h1",{className:"text-warning",children:"Main Categoires"}),c.map((function(e,t){return e.main&&Object(S.jsxs)("div",{className:"category",children:[Object(S.jsx)("h4",{className:"col-md-3",style:{textTransform:"capitalize"},children:e.name}),Object(S.jsx)(o.b,{to:"/admin/update/category/".concat(e._id),className:"btn btn-success col-md-3 mr-2",children:"Update"}),Object(S.jsx)("button",{onClick:function(){d(e._id)},className:"btn btn-danger col-md-3",children:"Delete"})]},t)})),Object(S.jsx)("h1",{className:"text-warning mt-4",children:"Sub Categoires"}),c.map((function(e,t){return!e.main&&Object(S.jsxs)("div",{className:"category",children:[Object(S.jsx)("h4",{className:"col-md-3",style:{textTransform:"capitalize"},children:e.name}),Object(S.jsx)(o.b,{to:"/admin/update/category/".concat(e._id),className:"btn btn-success col-md-3 mr-2",children:"Update"}),Object(S.jsx)("button",{onClick:function(){d(e._id)},className:"btn btn-danger col-md-3",children:"Delete"})]},t)}))]})})}function X(e){var t=e.match,c=C(),r=c.user,a=c.token,s=Object(n.useState)({name:"",main:!1,categoryType:"",error:!1,success:!1}),d=Object(i.a)(s,2),u=d[0],b=d[1];Object(n.useEffect)((function(){k(t.params.categoryId).then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):b(Object(j.a)(Object(j.a)({},u),{},{name:e.name,main:e.main}))}))}),[]);var m=u.name,h=u.main,O=u.error,p=u.success,f=u.categoryType,x=function(e){return function(t){var c,n;"categoryType"===e&&"category"===t.target.value?b(Object(j.a)(Object(j.a)({},u),{},(c={},Object(l.a)(c,e,t.target.value),Object(l.a)(c,"main",!0),c))):b(Object(j.a)(Object(j.a)({},u),{},(n={},Object(l.a)(n,e,t.target.value),Object(l.a)(n,"main",!1),n)))}};return Object(S.jsx)(E,{title:"UPDATE CATEGORY",children:Object(S.jsxs)("form",{className:"container text-left border p-3",children:[Object(S.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),p&&Object(S.jsx)("div",{className:"alert alert-success container",children:"Successfully Updated"}),O&&Object(S.jsx)("div",{className:"alert alert-danger container",children:O}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:x("name"),placeholder:"Enter Name",value:m})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Type"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:x("categoryType"),value:f,children:[Object(S.jsx)("option",{value:"",children:"Select Category Type"}),Object(S.jsx)("option",{value:"category",children:"Category"}),Object(S.jsx)("option",{value:"subcategory",children:"Subcategory"})]})})]}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),function(e,t,c,n){return fetch("".concat(y,"/category/").concat(c,"/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(r._id,a,t.params.categoryId,{name:m,main:h}).then((function(e){e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):(k(t.params.categoryId),b(Object(j.a)(Object(j.a)({},u),{},{success:!0})))}))},className:"btn btn-outline-primary mt-4",children:"Update Category"})]})})}c(64);function ee(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=C(),s=a.user,l=a.token;Object(n.useEffect)((function(){j()}),[]);var j=function(){D().then((function(e){e.error?console.log(e.error):r(e)}))},d=function(e){console.log(c),function(e,t,c){return fetch("".concat(y,"/product/").concat(c,"/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(s._id,l,e).then((function(e){e.error?console.log(e.error):(j(),alert("product deleted successfully"))}))};return Object(S.jsx)(E,{title:"Manage Products",children:Object(S.jsx)("div",{className:"manage-products",style:{width:"95%",margin:"20px auto"},children:c.map((function(e,t){return function(e,t,c,n,r){return Object(S.jsxs)("div",{className:"indi-card",children:[Object(S.jsx)("div",{className:"indi-card-container",children:Object(S.jsx)("img",{src:c,className:"card-image",alt:""})}),Object(S.jsxs)("div",{className:"indi-card-body",children:[Object(S.jsx)("h5",{className:"card-title",children:t}),Object(S.jsxs)("p",{className:"card-text",children:["$",n]}),Object(S.jsx)(o.b,{to:"/admin/update/product/".concat(r),className:"btn btn-success m-2",children:"Update"}),Object(S.jsx)("button",{className:"btn btn-danger m-2",onClick:function(){return d(r)},children:"Delete"})]})]},e)}(t,e.name,P(e._id),e.price,e._id)}))})})}function te(e){var t=e.match,c=C(),r=c.user,a=c.token,s=Object(n.useState)({name:"",description:"",price:"",photo:"",stock:"",category:"",subcategory:"",categories:[],error:!1,success:!1,formData:""}),d=Object(i.a)(s,2),u=d[0],b=d[1],m=u.name,h=u.description,O=u.price,p=u.stock,f=(u.photo,u.category),x=u.categories,g=u.subcategory,N=u.error,v=u.success,w=u.formData;Object(n.useEffect)((function(){k()}),[]);var k=function(){T(t.params.productId).then((function(e){e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):(b(Object(j.a)(Object(j.a)({},u),{},{name:e.name,description:e.description,price:e.price,stock:e.stock,category:e.category,subcategory:e.subcategory,formData:new FormData})),D())}))},D=function(){A().then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error,success:!0})):b({categories:e,formData:new FormData})})).catch((function(e){return console.log(e)}))},P=function(e){return function(t){var c;console.log(u);var n="photo"===e?t.target.files[0]:t.target.value;w.set(e,n),b(Object(j.a)(Object(j.a)({},u),{},(c={},Object(l.a)(c,e,n),Object(l.a)(c,"success",!1),c))),console.log(u)}},_=function(e){e.preventDefault(),function(e,t,c,n){return fetch("".concat(y,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,r._id,a,w).then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error,success:!1})):b(Object(j.a)(Object(j.a)({},u),{},{error:!1,success:!0}))})).catch((function(e){return console.log(e)}))};return Object(S.jsx)(E,{title:"UPDATE PRODUCT",description:"Here you can update products for your customers",children:Object(S.jsxs)("div",{children:[N&&Object(S.jsx)("div",{className:"alert alert-danger container",children:N}),v&&Object(S.jsx)("div",{className:"alert alert-success container",children:"Successfully Updated"}),Object(S.jsxs)("form",{className:"container text-left border p-3",children:[Object(S.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputPhoto",className:"col-sm-2 col-form-label",children:"Image"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"file",className:"form-control",id:"inputPhoto",onChange:P("photo")})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:P("name"),placeholder:"Enter Name",value:m})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputDes",className:"col-sm-2 col-form-label",children:"Description"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("textarea",{type:"text",className:"form-control",id:"inputDes",onChange:P("description"),placeholder:"Enter Description",value:h})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputPrice",className:"col-sm-2 col-form-label",children:"Price"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"number",className:"form-control",id:"inputPrice",onChange:P("price"),placeholder:"Enter Price",value:O})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Category"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:P("category"),value:f,children:[Object(S.jsx)("option",{value:"",children:"Select"}),x.map((function(e,t){if(e.main)return Object(S.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputSubCategory",className:"col-sm-2 col-form-label",children:"Subcategory"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsxs)("select",{className:"form-control",id:"inputSubCategory",onChange:P("subcategory"),value:g,children:[Object(S.jsx)("option",{value:"",children:"Select"}),x.map((function(e,t){if(!e.main)return Object(S.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(S.jsxs)("div",{className:"form-group row",children:[Object(S.jsx)("label",{htmlFor:"inputStock",className:"col-sm-2 col-form-label",children:"Stock"}),Object(S.jsx)("div",{className:"col-sm-10",children:Object(S.jsx)("input",{type:"number",className:"form-control",id:"inputSold",onChange:P("stock"),placeholder:"Enter Stock",value:p})})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",onClick:_,children:"Update Product"})]})]})})}function ce(e){var t=e.order,c=e.products,r=e.reload,a=e.setReload,o=C(),s=o.user,l=o.token,j=Object(n.useState)(""),d=Object(i.a)(j,2),u=d[0],b=d[1],m=Object(n.useState)(""),h=Object(i.a)(m,2),O=(h[0],h[1],Object(n.useState)([])),p=Object(i.a)(O,2),f=p[0],x=p[1];Object(n.useEffect)((function(){c.map((function(e){N(e.product)}))}),[]);var g,N=function(){var e=Object(U.a)(B.a.mark((function e(t){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:c=e.sent,x((function(e){return[].concat(Object(K.a)(e),[c.name])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"row container-fluid border",children:[(g=t.user,void function(e){return fetch("".concat(y,"/user/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(g).then((function(e){e.error?console.log("error in getting username",e.error):b(e.name)}))),Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)("h4",{children:u})}),Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsxs)("ul",{className:"list-group",children:[f.map((function(e,t){return Object(S.jsxs)("li",{className:"list-group-item",children:[" ",e," "]},t)})),Object(S.jsxs)("li",{className:"list-group-item",children:[" Amount : ",t.amount," "]})]})}),Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsxs)("select",{onChange:function(e){I(t._id,s._id,{status:e.target.value},l).then((function(e){e.error?console.log(e.error):a(!r)}))},value:t.status,children:[Object(S.jsx)("option",{value:"Received",children:"Received"}),Object(S.jsx)("option",{value:"Deliverd",children:"Deliverd"}),Object(S.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(S.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})})]})}function ne(){var e=C(),t=e.user,c=e.token,r=Object(n.useState)([]),a=Object(i.a)(r,2),o=a[0],s=a[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),d=j[0],u=j[1];Object(n.useEffect)((function(){b()}),[d]);var b=function(){var e=Object(U.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t._id,c);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(E,{title:"Manage Orders",children:[Object(S.jsxs)("div",{className:"row container m-auto border",children:[Object(S.jsx)("div",{className:"col-md-4 ",children:Object(S.jsx)("h3",{children:"Order By"})}),Object(S.jsx)("div",{className:"col-md-4",children:"products"}),Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)("h3",{children:"Update Order Status"})})]}),o.length&&Object(S.jsxs)("div",{className:"container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-primary",children:"Received"}),o.map((function(e,t){if("Received"==e.status)return Object(S.jsx)(ce,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-primary",children:"Shipped"}),o.map((function(e,t){if("Shipped"==e.status)return Object(S.jsx)(ce,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-success",children:"Deliverd"}),o.map((function(e,t){if("Deliverd"==e.status)return Object(S.jsx)(ce,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-warning",children:"Cancelled"}),o.map((function(e,t){if("Cancelled"==e.status)return Object(S.jsx)(ce,{order:e,products:e.products,reload:d,setReload:u},t)}))]})]})]})}c(65);function re(e){var t=e.match,c=Object(n.useState)([]),r=Object(i.a)(c,2),a=r[0],o=r[1],s=Object(n.useState)(!0),l=Object(i.a)(s,2),j=l[0],d=l[1];Object(n.useEffect)((function(){"sale"===t.params.category||"new"===t.params.category?D().then((function(e){o(e)})):A().then((function(e){e.map((function(e,c){var n="accessories"===t.params.category?"watch":t.params.category;e.name.toLowerCase()===n&&u(e._id)}))})),d(!1)}),[a]),Object(n.useEffect)((function(){d(!0)}),[]);var u=function(e){var c,n;"shoe"!==t.params.category&&"accessories"!==t.params.category?(n=e,fetch("".concat(y,"/products/category/?category=").concat(n),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){o(e)})):(c=e,fetch("".concat(y,"/products/subcategory/?subcategory=").concat(c),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){o(e)}))};return Object(S.jsx)(E,{title:"",children:Object(S.jsxs)("div",{className:"products-area",children:[Object(S.jsxs)("h4",{children:["BEST FOR ",Object(S.jsxs)("span",{style:{textTransform:"uppercase"},children:[t.params.category," CATEGORIES"]})]}),Object(S.jsx)("h6",{children:"TOP PRODUCTS OF THIS WEEK"}),Object(S.jsx)("h3",{className:"border-bottom",children:t.params.category+"("+a.length+")"}),j?Object(S.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden"})}):Object(S.jsx)("div",{className:"products-container",children:a.map((function(e,t){return Object(S.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price},t)}))})]})})}c(40);var ae=c(43),oe=c(28),se=c.n(oe);function ie(e){var t=e.setReload,c=e.reload,r=e.id,a=e.productQuantity,o=(e.total,e.getTotal),s=C(),l=s.user,d=s.token,u=Object(n.useState)({name:"",price:"",quantity:a,error:!1}),b=Object(i.a)(u,2),m=b[0],h=b[1],O=m.name,p=m.price,f=(m.error,m.quantity);Object(n.useEffect)((function(){T(r).then((function(e){e.error?h(Object(j.a)(Object(j.a)({},m),{},{error:e.error})):h(Object(j.a)(Object(j.a)({},m),{},{name:e.name,price:e.price}))}))}),[]),Object(n.useEffect)((function(){o(f*p)}),[O]),Object(n.useEffect)((function(){g()}),[f]);var x=function(e){(function(e,t,c){return fetch("".concat(y,"/user/cart/delete/").concat(t,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(l._id,e,d).then((function(e){e.error?console.log(e.error):t(!c)}))},g=function(){(function(e,t,c,n){return fetch("".concat(y,"/user/cart/").concat(t,"/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(l._id,r,d,{quantity:f}).then((function(e){e.error?console.log(e.error):t(!c)}))};return Object(S.jsxs)("div",{className:"cart",children:[Object(S.jsx)("div",{className:"left-block",children:Object(S.jsx)("img",{src:P(r)})}),Object(S.jsxs)("div",{className:"center-block",children:[Object(S.jsx)("p",{className:"ml-2",children:O}),Object(S.jsxs)("span",{children:["$",p,".00"]}),Object(S.jsxs)("div",{className:"quantity-section",children:[1===f?Object(S.jsx)("button",{children:"-"}):Object(S.jsx)("button",{onClick:function(){h(Object(j.a)(Object(j.a)({},m),{},{quantity:f-1})),o(-p)},children:"-"}),Object(S.jsx)("span",{children:f}),Object(S.jsx)("button",{onClick:function(){h(Object(j.a)(Object(j.a)({},m),{},{quantity:f+1})),o(p)},children:"+"})]}),Object(S.jsxs)("span",{children:["$",f*p,".00"]})]}),Object(S.jsx)("div",{className:"right-block",children:Object(S.jsx)(se.a,{className:"delete-icon ml-4",onClick:function(){return x(r)}})})]})}function le(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),o=Object(i.a)(a,2),s=o[0],l=o[1],j=Object(n.useState)(0),d=Object(i.a)(j,2),u=d[0],b=d[1],m=C(),h=m.user,O=m.token;Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(y,"/user/cart/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(h._id,O).then((function(e){console.log(e),e.error?console.log(e.error):r(e)}))}),[s]);var p=function(e){b(u+e)},f=function(){var e=Object(U.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)("pk_test_51IIS0eGrSxjWACMwKCRsOK8brByghKjn5gLYAhHDZnyVGtPB4l7PURQqNDiN8EQl8yN6fKfKOsxAafpBJv7YshbI004H3rZkCW");case 2:return t=e.sent,e.next=5,z(c);case 5:return n=e.sent,console.log(n),localStorage.setItem("order",JSON.stringify({products:c,amount:u,transaction_id:n.id,user:h._id})),e.next=10,t.redirectToCheckout({sessionId:n.id});case 10:e.sent;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(E,{title:"SHOPPING CART",children:[0!==c.length?c.map((function(e,t){return Object(S.jsx)(ie,{reload:s,setReload:l,id:e.product,productQuantity:e.quantity,total:u,getTotal:p},t)})):Object(S.jsx)("h1",{className:"text-danger",children:"No Products In Cart"}),0!==c.length&&Object(S.jsxs)("div",{className:"delete-section",children:[Object(S.jsx)(se.a,{className:"ml-4"}),Object(S.jsx)("span",{onClick:function(){R(h._id,O).then((function(e){e.error?console.log(e.error):l(!s)}))},children:"Delete All Products"})]}),0!==c.length&&Object(S.jsxs)("div",{className:"checkout",children:[Object(S.jsxs)("div",{className:"checkout-section",children:[Object(S.jsx)("span",{className:"mr-4",children:"SUBTOTAL"}),Object(S.jsxs)("span",{children:["$",u,".00"]})]}),Object(S.jsx)("button",{className:"btn btn-outline-primary mt-4",onClick:f,children:"PROCEED TO CHECKOUT"})]})]})}function je(){var e=Object(n.useState)("No Message"),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search);e.get("success")&&r("Order placed! You will receive an email confirmation."),e.get("canceled")&&r("Order canceled -- continue to shop around and checkout when you're ready.")}),[]),Object(S.jsx)("div",{children:Object(S.jsx)("h1",{className:"text-success",children:c})})}function de(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),o=Object(i.a)(a,2),l=o[0],j=o[1],d=C(),u=(d.user,d.token,new URLSearchParams(Object(s.g)().search).get("q"));Object(n.useEffect)((function(){D().then((function(e){r([]),e.error?console.log(e.error):e.map((function(e,t){e.name.toLowerCase().includes(u.toLowerCase())&&r((function(t){return[].concat(Object(K.a)(t),[e])}))}))}))}),[l]);return Object(S.jsx)(E,{children:Object(S.jsx)("div",{className:"products-container",children:c.length?c.map((function(e,t){return Object(S.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price,isHome:!0},t)})):Object(S.jsx)("h1",{children:"No Such Products"})}),title:"",reload:l,setReload:j})}function ue(){return Object(S.jsx)(o.a,{children:Object(S.jsxs)(s.d,{children:[Object(S.jsx)(s.b,{exact:!0,path:"/",component:L}),Object(S.jsx)(s.b,{exact:!0,path:"/products",component:de}),Object(S.jsx)(s.b,{exact:!0,path:"/signin",component:q}),Object(S.jsx)(s.b,{exact:!0,path:"/signup",component:W}),Object(S.jsx)(s.b,{exact:!0,path:"/result",component:je}),Object(S.jsx)(s.b,{exact:!0,path:"/collections/:category",component:re}),Object(S.jsx)(H,{exact:!0,path:"/cart",component:le}),Object(S.jsx)(H,{exact:!0,path:"/user/dashboard",component:Y}),Object(S.jsx)(J,{exact:!0,path:"/admin/dashboard",component:$}),Object(S.jsx)(J,{exact:!0,path:"/admin/create/product",component:Q}),Object(S.jsx)(J,{exact:!0,path:"/admin/create/category",component:V}),Object(S.jsx)(J,{exact:!0,path:"/admin/manage/categories",component:Z}),Object(S.jsx)(J,{exact:!0,path:"/admin/manage/products",component:ee}),Object(S.jsx)(J,{exact:!0,path:"/admin/manage/orders",component:ne}),Object(S.jsx)(J,{path:"/admin/update/category/:categoryId",component:X}),Object(S.jsx)(J,{path:"/admin/update/product/:productId",component:te})]})})}c(66),c(67);a.a.render(Object(S.jsx)(ue,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.01e2ee04.chunk.js.map