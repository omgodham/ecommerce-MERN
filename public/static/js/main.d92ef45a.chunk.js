(this.webpackJsonpecomfrontend=this.webpackJsonpecomfrontend||[]).push([[0],{32:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},49:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(17),r=c.n(a),s=c(5),o=c(9),i=c(4),l=c(8),j=c(3),d=(c(49),c(24)),u=c.n(d),b=c(30),m=c.n(b),h=c(42),O=c.n(h),p=c(37),f=c.n(p),x=c(36),g=c.n(x),N=c(41),v=c.n(N),y="https://gentle-dawn-86783.herokuapp.com/api",S=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("auth")&&JSON.parse(localStorage.getItem("auth")))},C=c(0);function E(e){var t=e.reload,c=e.setReload,a=void 0===c?function(e){return e}:c,r=Object(n.useState)(""),d=Object(i.a)(r,2),b=d[0],h=d[1],p=Object(n.useState)({cart:!1,account:!1,logout:!1,accountBlock:!1}),x=Object(i.a)(p,2),N=x[0],E=x[1],w=Object(n.useState)(!1),T=Object(i.a)(w,2),k=T[0],A=T[1],P=N.cart,D=N.account,I=N.accountBlock,R=N.logout;N.search;Object(n.useEffect)((function(){var e=document.querySelector(".sidebar"),t=document.querySelector(".toggle-btn");e.style.display="none",t.addEventListener("click",(function(){e.style.display="block"})),document.querySelector(".close-btn").addEventListener("click",(function(){e.style.display="none",t.style.display="none"})),window.addEventListener("resize",(function(){window.outerWidth>="780"&&(e.style.display="none")}))}),[]);var _=function(e){E(Object(j.a)(Object(j.a)({},N),{},Object(l.a)({},e,!0)))},F=function(e){E(Object(j.a)(Object(j.a)({},N),{},Object(l.a)({},e,!1)))},U=function(){var e;(e=S().token,console.log(e),localStorage.removeItem("auth"),fetch("".concat(y,"/signout"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){console.log(e),e.error?alert(e.error):A(!0)}))};return Object(C.jsxs)("div",{className:"navbar-container",children:[Object(C.jsx)(v.a,{className:"toggle-btn",id:"toggle-btn"}),Object(C.jsxs)("div",{className:"navbar",children:[Object(C.jsxs)("div",{className:"left-content",children:[Object(C.jsx)(s.b,{to:"/",className:"nav-logo",children:"Wokiee"}),Object(C.jsxs)("ul",{className:"nav-container",children:[Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/collections/men",className:"nav-links",children:"MEN"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/collections/women",className:"nav-links",children:"WOMEN"})})]})]}),Object(C.jsxs)("div",{className:"right-content",children:[Object(C.jsxs)("form",{className:"logo-info search",children:[Object(C.jsx)("input",{type:"search",className:"form-control",id:"input-search",value:b,placeholder:"Search",onChange:function(e){h(e.target.value)}}),Object(C.jsx)(s.b,{to:"/products?q=".concat(b),style:{color:"black",textDecoration:"none"},children:Object(C.jsx)("button",{type:"submit",className:"search-btn",children:Object(C.jsx)(O.a,{className:"icon",onMouseOver:function(){return _("search")},onMouseOut:function(){return F("search")},onClick:function(e){e.preventDefault(),a(!t)}})})})]}),Object(C.jsxs)("div",{className:"logo-info",children:[Object(C.jsxs)(s.b,{to:"/cart",style:{color:"black",textDecoration:"none"},children:[" ",Object(C.jsx)(u.a,{className:"icon",onMouseOver:function(){return _("cart")},onMouseOut:function(){return F("cart")}})]}),Object(C.jsx)("span",{style:{display:P?"":"none"},children:"Cart"})]}),!S()&&Object(C.jsxs)("div",{className:"logo-info user-info",children:[Object(C.jsx)(m.a,{className:"icon",onClick:function(){E(Object(j.a)(Object(j.a)({},N),{},{accountBlock:!I}))},onMouseOver:function(){return _("account")},onMouseOut:function(){return F("account")}}),D&&Object(C.jsx)("span",{children:"My Account"})]}),S()&&Object(C.jsx)("div",{className:"logo-info user-info",children:Object(C.jsx)(s.b,{to:1===S().user.role?"/admin/dashboard":"/user/dashboard",style:{textDecoration:"none"},children:Object(C.jsxs)("h6",{style:{textTransform:"capitalize"},children:["Welcome ",S().user.name]})})}),S()&&Object(C.jsxs)("div",{className:"logo-info user-info",children:[Object(C.jsx)(g.a,{className:"icon",onClick:U,onMouseOver:function(){return _("logout")},onMouseOut:function(){return F("logout")}}),R&&Object(C.jsx)("span",{children:"logout"})]}),I&&Object(C.jsxs)("div",{className:"info-popup",children:[Object(C.jsxs)("span",{children:[Object(C.jsx)(m.a,{style:{marginRight:"2px"}}),Object(C.jsx)(s.b,{to:"/signin",children:"Sign In"})]}),Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{style:{marginRight:"2px"}}),Object(C.jsx)(s.b,{to:"/signup",children:"Register"})]})]})]}),function(e){return e&&Object(C.jsx)(o.a,{to:"/"})}(k)]}),Object(C.jsxs)("div",{className:"sidebar",id:"sidebar",children:[Object(C.jsx)("div",{className:"close-btn",children:"X Close"}),Object(C.jsxs)("ul",{className:"sidebar-list",children:[Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/collections/men",className:"sidebar-item",children:"MEN"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{className:"sidebar-item",to:"/collections/women",children:"WOMEN"})}),!S()&&Object(C.jsxs)("li",{children:[Object(C.jsx)(m.a,{style:{marginRight:"2px"}}),Object(C.jsx)(s.b,{to:"/signin",className:"sidebar-item",children:"Sign In"})]}),!S()&&Object(C.jsxs)("li",{children:[Object(C.jsx)(f.a,{style:{marginRight:"2px"}}),Object(C.jsx)(s.b,{className:"sidebar-item",to:"/signup",children:"Register"})]}),S()&&Object(C.jsxs)("li",{children:[Object(C.jsx)(u.a,{style:{marginRight:"2px"}}),Object(C.jsx)(s.b,{className:"sidebar-item",to:"/cart",children:"Shopping Cart"})]}),S()&&Object(C.jsxs)("li",{children:[Object(C.jsx)(g.a,{className:"icon",onClick:U,onMouseOver:function(){return _("logout")},onMouseOut:function(){return F("logout")}}),"Logout"]})]})]})]})}c(57);function w(e){var t=e.children,c=e.title,n=void 0===c?"This is the title":c,a=e.reload,r=e.setReload,s=void 0===r?function(e){return e}:r;return Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)(E,{reload:a,setReload:s}),Object(C.jsx)("div",{children:Object(C.jsx)("h1",{className:"text-black",children:n})}),Object(C.jsx)("div",{children:t}),Object(C.jsx)("footer",{children:Object(C.jsxs)("div",{className:"footer",children:[Object(C.jsx)("h5",{children:"Contact us at: wookiestores@yahoo.in"}),Object(C.jsx)("h5",{children:"Telephone no: +125332253"})]})})]})}c(39),c(32),c(58);var T=function(e){return fetch("".concat(y,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},k=function(e){return fetch("".concat(y,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},A=function(){return fetch("".concat(y,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},P=function(){return fetch("".concat(y,"/products"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},D=function(e){return"".concat(y,"/product/photo/").concat(e)},I=function(e,t){return fetch("".concat(y,"/orders/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},R=function(e,t,c,n){return fetch("".concat(y,"/order/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},_=function(e,t){return fetch("".concat(y,"/user/cart/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function F(e){var t=e.id,c=e.name,a=void 0===c?"Name":c,r=e.price,s=void 0===r?"$10":r,o=e.isHome,l=void 0===o||o,j=S(),d=j.user,b=j.token,m=Object(n.useState)(!1),h=Object(i.a)(m,2),O=h[0],p=h[1],f=Object(n.useState)({position:"absolute",bottom:"-50px",right:"0px",left:"0px",zIndex:"-1"}),x=Object(i.a)(f,2),g=x[0],N=x[1];return Object(C.jsxs)("div",{className:"card",id:"card",onMouseOver:function(){document.getElementById(a).classList.add("change-card"),N({position:"absolute",bottom:"2px",right:"0px",left:"0px",zIndex:"1",transition:"all 0.5s ease-in-out"})},onMouseOut:function(){p(!O),document.getElementById(a).classList.remove("change-card"),N({position:"absolute",bottom:"-50px",right:"0px",left:"0px",zIndex:"-1",marginTop:"0px",transition:"all 0.3s ease-in-out"})},children:[Object(C.jsx)("div",{className:"product-image",children:Object(C.jsx)("img",{src:D(t),className:"card-img-top",alt:""})}),Object(C.jsxs)("var",{id:a,children:["  ",Object(C.jsxs)("div",{className:"card-body",id:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",style:{textTransform:"capitalize"},children:a}),Object(C.jsxs)("p",{className:"card-text",children:["$",s,".00"]})]})]}),Object(C.jsx)("div",{style:g,children:l?Object(C.jsxs)("button",{onClick:function(){(function(e,t,c){return fetch("".concat(y,"/user/cart/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(d._id,b,{product:t}).then((function(e){e.error?console.log(e):alert("Added to cart successfully")}))},className:"btn btn-primary",children:[Object(C.jsx)(u.a,{}),"ADD TO CART"]}):Object(C.jsxs)("button",{onClick:function(){},className:"btn btn-primary",children:[Object(C.jsx)(u.a,{}),"REMPOVE FROM CART"]})})]})}var U=c(19),B=c(11),M=c.n(B),L=c(15),z=function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(y,"/create-checkout-session"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=S(),l=r.user,j=r.token,d=Object(n.useState)(!0),u=Object(i.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),p=O[0],f=O[1],x=Object(n.useState)(!1),g=Object(i.a)(x,2),N=(g[0],g[1]);Object(n.useEffect)((function(){E()}),[]),Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search);if(e.get("success")){var t=JSON.parse(localStorage.getItem("order"));(function(e,t,c){return console.log(t),fetch("".concat(y,"/create/order/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(t)}).then((function(e){return e.json()}))})(l._id,t,j).then((function(e){e.error&&console.log(e.error)})).catch((function(e){return console.log(e)})),localStorage.removeItem("order"),alert("Order Successfully created"),f(!0),v()}e.get("canceled")&&(alert("Order Canceled"),f(!0))}),[]);var v=function(){_(l._id,j).then((function(e){e.error?console.log(e.error):console.log("cart empty")}))},E=function(){P().then((function(e){e.error?N(e.error):a(e)})).catch((function(e){return console.log(e)})),m(!1)};return Object(C.jsxs)(w,{title:"",children:[Object(C.jsxs)(U.a,{className:"carousel",children:[Object(C.jsxs)(U.a.Item,{children:[Object(C.jsx)("img",{src:"\\images\\img1.jpg",alt:"First slide"}),Object(C.jsxs)(U.a.Caption,{className:"captions",children:[Object(C.jsx)("button",{className:"btn btn-primary",children:"SHOP NOW"}),Object(C.jsx)("p",{style:{color:"black",fontWeight:"900"},children:"BRAND NEW STYLISH PRODUCTS ON SALE"})]})]}),Object(C.jsxs)(U.a.Item,{children:[Object(C.jsx)("img",{src:"\\images\\img2.jpg",alt:"Second slide"}),Object(C.jsxs)(U.a.Caption,{children:[Object(C.jsx)("button",{className:"btn btn-light",children:"SHOP NOW"}),Object(C.jsx)("p",{style:{color:"white",fontWeight:"900"},children:"GO AHEAD AND BUY SOMETHING FOR LOVED ONES"})]})]}),Object(C.jsxs)(U.a.Item,{className:"video-item",children:[Object(C.jsx)("div",{children:Object(C.jsx)("video",{autoPlay:!0,muted:!0,controls:!0,loop:!0,children:Object(C.jsx)("source",{src:"\\images\\video.mp4",type:"video/mp4"})})}),Object(C.jsxs)(U.a.Caption,{className:"video-item",children:[Object(C.jsx)("button",{className:"btn btn-warning",children:"SHOP NOW"}),Object(C.jsx)("p",{style:{color:"white",fontWeight:"500"},children:"EXPLORE OUR SHOP IN THIS CITIES"})]})]})]}),Object(C.jsxs)("div",{className:"categories mt-4",children:[Object(C.jsxs)("div",{className:"left-one",children:[Object(C.jsxs)("div",{className:"sale",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_03_650x.jpg?v=1542298540",alt:""}),Object(C.jsx)(s.b,{to:"/collections/sale",className:"btn btn-info",children:"SALE"})]}),Object(C.jsxs)("div",{className:"new",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_04_325x.jpg?v=1542298540"}),Object(C.jsx)(s.b,{to:"/collections/new",className:"btn btn-info",children:"NEW"})]})]}),Object(C.jsxs)("div",{className:"center-one women",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_06_325x.jpg?v=1542298540"}),Object(C.jsx)(s.b,{to:"/collections/women",className:"btn btn-info",children:"WOMEN"})]}),Object(C.jsxs)("div",{className:"right-one",children:[Object(C.jsxs)("div",{className:"right-top",children:[Object(C.jsxs)("div",{className:"men",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_05_325x.jpg?v=1542298540"}),Object(C.jsx)(s.b,{to:"/collections/men",className:"btn btn-info",children:"MEN"})]}),Object(C.jsxs)("div",{className:"accessories",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_07_325x.jpg?v=1542298540"}),Object(C.jsx)(s.b,{to:"/collections/accessories",className:"btn btn-info",children:"ACCESSORIES"})]})]}),Object(C.jsxs)("div",{className:"right-bottom",children:[Object(C.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0130/5041/3114/files/demo01_08_669x.jpg?v=1542298540"}),Object(C.jsx)(s.b,{to:"/collections/shoe",className:"btn btn-info",children:"SHOES"})]})]})]}),Object(C.jsxs)("div",{className:"products-area text-center",children:[Object(C.jsx)("h4",{children:"BEST SELLER"}),Object(C.jsx)("h6",{children:"TOP PRODUCTS OF THIS WEEK"}),b?Object(C.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(C.jsx)("span",{className:"visually-hidden"})}):Object(C.jsx)("div",{className:"products-container",children:c.map((function(e,t){return Object(C.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price},t)}))})]}),function(e){return e&&Object(C.jsx)(o.a,{to:"/"})}(p)]})}var G=c(29);function W(e){var t=e.component,c=Object(G.a)(e,["component"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return S()?Object(C.jsx)(t,Object(j.a)({},e)):Object(C.jsx)(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}function J(e){var t=e.component,c=Object(G.a)(e,["component"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return S()&&1===S().user.role?Object(C.jsx)(t,Object(j.a)({},e)):Object(C.jsx)(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}c(60);function q(){var e=Object(n.useState)({email:"",password:"",error:!1,success:!1,isLoading:!1}),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.email,s=c.password,d=c.error,u=c.success,b=(c.isLoading,function(e){var t=e.target,n=t.name,r=t.value;a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},n,r)))});return Object(C.jsxs)(w,{title:"SIGN IN",children:[Object(C.jsxs)("form",{className:"text-left",style:{width:"50%",margin:"0 auto"},children:[function(e){return e&&Object(C.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})}(d),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(C.jsx)("input",{type:"email",onChange:b,className:"form-control",name:"email",value:r,id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(C.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(C.jsx)("input",{type:"password",onChange:b,name:"password",value:s,className:"form-control",id:"exampleInputPassword1"})]}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){e.preventDefault(),function(e){return fetch("".concat(y,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:r,password:s}).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):function(e,t){"undefined"!==typeof window&&localStorage.setItem("auth",JSON.stringify(e)),t()}(e,(function(){a({email:"",password:"",error:!1,success:!0,isLoading:!0})}))}))},children:"Signin"})]}),function(e){if(console.log(S()),e){if(0===S().user.role)return Object(C.jsx)(o.a,{to:"/user/dashboard"});if(1===S().user.role)return Object(C.jsx)(o.a,{to:"/admin/dashboard"})}if(S())return Object(C.jsx)(o.a,{to:"/"})}(u)]})}function Y(){var e=Object(n.useState)({name:"",email:"",password:"",confirm_password:"",error:!1,success:!1}),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.name,s=c.email,o=c.password,d=c.confirm_password,u=c.error,b=c.success,m=function(e){var t=e.target,n=t.name,r=t.value;a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},n,r)))};return Object(C.jsx)(w,{title:"CREATE AN ACCOUNT",children:Object(C.jsxs)("form",{className:"text-left",style:{width:"50%",margin:"0 auto"},children:[function(e){return e&&Object(C.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})}(u),function(e){return e&&Object(C.jsx)("div",{className:"alert alert-success",role:"alert",children:"User Create Successfully"})}(b),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputEmail2",className:"form-label",children:"Your Name"}),Object(C.jsx)("input",{type:"text",onChange:m,className:"form-control",value:r,name:"name",id:"exampleInputEmail2"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(C.jsx)("input",{type:"email",onChange:m,className:"form-control",name:"email",value:s,id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(C.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(C.jsx)("input",{type:"password",onChange:m,name:"password",value:o,className:"form-control",id:"exampleInputPassword1"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirmed Password"}),Object(C.jsx)("input",{type:"password",onChange:m,className:"form-control",value:d,name:"confirm_password",id:"exampleInputPassword1"})]}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){console.log(c),e.preventDefault(),function(e){return fetch("".concat(y,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({name:r,email:s,password:o,confirm_password:d}).then((function(e){console.log(e),e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):a({name:"",email:"",password:"",confirm_password:"",error:!1,success:!0})}))},children:"Sign Up"})]})})}var K=c(23);c(61);function $(){var e=S(),t=e.user,c=e.token,a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),d=j[0],u=j[1];Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(y,"/orders/user/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t._id,c).then((function(e){e.error?console.log(e.error):o(e)}))}),[d]);var b=function(e){var a=e.order,r=e.products,s=e.index,o=e.reload,l=e.setReload,j=Object(n.useState)([]),d=Object(i.a)(j,2),u=d[0],b=d[1];Object(n.useEffect)((function(){console.log(r),r.map((function(e,t){m(e.product)}))}),[]);var m=function(){var e=Object(L.a)(M.a.mark((function e(t){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:c=e.sent,b((function(e){return[].concat(Object(K.a)(e),[c.name])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"order",children:[Object(C.jsxs)("h4",{children:[s+1,". Order On : ",a.createdAt.split("T")[0]," "]}),Object(C.jsx)("div",{children:Object(C.jsx)("ul",{className:"list-group",children:u&&u.map((function(e,t){return Object(C.jsx)("li",{className:"list-group-item",children:e},t)}))})}),Object(C.jsxs)("h5",{children:["Amount: $",a.amount,".00"]}),"Cancelled"!==a.status&&Object(C.jsx)("h5",{className:"text-primary p-2",children:a.status}),"Cancelled"==a.status?Object(C.jsx)("h5",{className:"text-danger ml-2",children:"Order Cancelled "}):Object(C.jsx)("button",{className:"btn btn-outline-warning m-2",onClick:function(){R(a._id,t._id,{status:"Cancelled"},c).then((function(e){console.log(e),e.error?console.log(e.error):l(!o)}))},children:"Cancel Order"})]},s)};return Object(C.jsx)(w,{title:"User Dashboard",children:Object(C.jsx)("div",{className:"orders-container",children:s&&s.map((function(e,t){return Object(C.jsx)(b,{order:e,products:e.products,index:t,reload:d,setReload:u},t)}))})})}c(62);function Q(){var e=S().user;return Object(C.jsx)(w,{title:"ADMIN DASHBOARD",children:Object(C.jsxs)("div",{className:"admin-dashboard",children:[Object(C.jsx)("div",{className:"admin-actions",children:Object(C.jsxs)("ul",{className:"list-group",children:[Object(C.jsx)("li",{className:"list-group-item disabled bg-danger text-white",children:"Admin Actions"}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/admin/create/product",className:"list-group-item",children:"Create Product"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/admin/create/category",className:"list-group-item",children:"Create Category"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/admin/manage/products",className:"list-group-item",children:"Manage Product"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/admin/manage/categories",className:"list-group-item",children:"Manage Category"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/admin/manage/orders",className:"list-group-item",children:"Manage Orders"})})]})}),Object(C.jsxs)("div",{className:"admin-info",children:[Object(C.jsx)("h3",{children:"Admin Info"}),Object(C.jsx)("span",{className:"badge badge-primary",children:"Name : "}),Object(C.jsx)("h5",{style:{textTransform:"capitalize"},children:e.name}),Object(C.jsx)("span",{className:"badge badge-primary",children:"Email : "})," ",Object(C.jsx)("p",{children:e.email}),Object(C.jsx)("span",{className:"badge badge-success",children:"You are Admin"})]})]})})}function V(){var e=S(),t=e.user,c=e.token,a=Object(n.useState)({name:"",description:"",price:"",photo:"",stock:"",category:"",subcategory:"",categories:[],error:!1,success:!1,formData:""}),r=Object(i.a)(a,2),o=r[0],d=r[1],u=o.name,b=o.description,m=o.price,h=o.stock,O=(o.photo,o.category),p=o.categories,f=o.subcategory,x=o.error,g=o.success,N=o.formData;Object(n.useEffect)((function(){v()}),[]);var v=function(){A().then((function(e){e.error?d(Object(j.a)(Object(j.a)({},o),{},{error:!0,success:!0})):d(Object(j.a)(Object(j.a)({},o),{},{categories:e,formData:new FormData}))})).catch((function(e){return console.log(e)}))},E=function(e){return function(t){var c,n="photo"===e?t.target.files[0]:t.target.value;N.set(e,n),d(Object(j.a)(Object(j.a)({},o),{},(c={},Object(l.a)(c,e,n),Object(l.a)(c,"success",!1),c))),console.log(o)}},T=function(e){e.preventDefault(),console.log("clicked"),function(e,t,c){return console.log(e,t,c),fetch("".concat(y,"/create/product/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,N).then((function(e){console.log(e),e.error?d(Object(j.a)(Object(j.a)({},o),{},{error:e.error,success:!1})):d(Object(j.a)(Object(j.a)({},o),{},{name:"",description:"",stock:"",category:"",subcategory:"",photo:"",price:"",error:!1,success:!0}))})).catch((function(e){return console.log(e)}))};return Object(C.jsx)(w,{title:"CREATE PRODUCT",description:"Here you can create new products for your customers",children:Object(C.jsxs)("div",{children:[x&&Object(C.jsx)("div",{className:"alert alert-danger container",children:x}),g&&Object(C.jsx)("div",{className:"alert alert-success container",children:"Successfully Created"}),Object(C.jsxs)("form",{className:"container text-left border p-3",children:[Object(C.jsx)(s.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputPhoto",className:"col-sm-2 col-form-label",children:"Image"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"file",className:"form-control",id:"inputPhoto",onChange:E("photo")})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:E("name"),placeholder:"Enter Name",value:u})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputDes",className:"col-sm-2 col-form-label",children:"Description"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("textarea",{type:"text",className:"form-control",id:"inputDes",onChange:E("description"),placeholder:"Enter Description",value:b})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputPrice",className:"col-sm-2 col-form-label",children:"Price"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"number",className:"form-control",id:"inputPrice",onChange:E("price"),placeholder:"Enter Price",value:m})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Category"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:E("category"),value:O,children:[Object(C.jsx)("option",{value:"",children:"Select"}),p.map((function(e,t){if(e.main)return Object(C.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputSubCategory",className:"col-sm-2 col-form-label",children:"Subcategory"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputSubCategory",onChange:E("subcategory"),value:f,children:[Object(C.jsx)("option",{value:"",children:"Select"}),p.map((function(e,t){if(!e.main)return Object(C.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputStock",className:"col-sm-2 col-form-label",children:"Stock"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"number",className:"form-control",id:"inputSold",onChange:E("stock"),placeholder:"Enter Stock",value:h})})]}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",onClick:T,children:"Create Product"})]})]})})}function X(){var e=Object(n.useState)({name:"",main:!1,categoryType:"",error:!1,success:!1}),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.name,o=c.main,d=c.error,u=c.success,b=c.categoryType,m=S(),h=m.user,O=m.token,p=function(e){return function(t){var n,r;"categoryType"===e&&"category"===t.target.value?a(Object(j.a)(Object(j.a)({},c),{},(n={},Object(l.a)(n,e,t.target.value),Object(l.a)(n,"main",!0),n))):a(Object(j.a)(Object(j.a)({},c),{},(r={},Object(l.a)(r,e,t.target.value),Object(l.a)(r,"main",!1),r)))}};return Object(C.jsx)(w,{title:"CREATE CATEGORY",children:Object(C.jsxs)("form",{className:"container text-left border p-3",children:[Object(C.jsx)(s.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),u&&Object(C.jsx)("div",{className:"alert alert-success container",children:"Successfully Created"}),d&&Object(C.jsx)("div",{className:"alert alert-danger container",children:d}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:p("name"),placeholder:"Enter Name",value:r})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Type"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:p("categoryType"),value:b,children:[Object(C.jsx)("option",{value:"",children:"Select Category Type"}),Object(C.jsx)("option",{value:"category",children:"Category"}),Object(C.jsx)("option",{value:"subcategory",children:"Subcategory"})]})})]}),Object(C.jsx)("button",{onClick:function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(y,"/create/category/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(h._id,O,{name:r,main:o}).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):a({name:"",main:!1,error:!1,success:!0,categoryType:""})}))},className:"btn btn-outline-primary mt-4",children:"Create Category"})]})})}c(63);function Z(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=S(),o=r.user,l=r.token;Object(n.useEffect)((function(){j()}),[]);var j=function(){A().then((function(e){e.error?console.log(e.error):a(e)}))},d=function(e){(function(e,t,c){return fetch("".concat(y,"/category/").concat(c,"/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(o._id,l,e).then((function(e){e.error?console.log(e.error):(j(),alert("Deleted Successfully"))}))};return Object(C.jsx)(w,{title:"Manage Categories",children:Object(C.jsxs)("div",{className:"categories-container text-left",children:[Object(C.jsx)(s.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4 mt-4",children:"Admin Dashboard"}),Object(C.jsx)("h1",{className:"text-warning",children:"Main Categoires"}),c.map((function(e,t){return e.main&&Object(C.jsxs)("div",{className:"category",children:[Object(C.jsx)("h4",{className:"col-md-3",style:{textTransform:"capitalize"},children:e.name}),Object(C.jsx)(s.b,{to:"/admin/update/category/".concat(e._id),className:"btn btn-success col-md-3 mr-2",children:"Update"}),Object(C.jsx)("button",{onClick:function(){d(e._id)},className:"btn btn-danger col-md-3",children:"Delete"})]},t)})),Object(C.jsx)("h1",{className:"text-warning mt-4",children:"Sub Categoires"}),c.map((function(e,t){return!e.main&&Object(C.jsxs)("div",{className:"category",children:[Object(C.jsx)("h4",{className:"col-md-3",style:{textTransform:"capitalize"},children:e.name}),Object(C.jsx)(s.b,{to:"/admin/update/category/".concat(e._id),className:"btn btn-success col-md-3 mr-2",children:"Update"}),Object(C.jsx)("button",{onClick:function(){d(e._id)},className:"btn btn-danger col-md-3",children:"Delete"})]},t)}))]})})}function ee(e){var t=e.match,c=S(),a=c.user,r=c.token,o=Object(n.useState)({name:"",main:!1,categoryType:"",error:!1,success:!1}),d=Object(i.a)(o,2),u=d[0],b=d[1];Object(n.useEffect)((function(){k(t.params.categoryId).then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):b(Object(j.a)(Object(j.a)({},u),{},{name:e.name,main:e.main}))}))}),[]);var m=u.name,h=u.main,O=u.error,p=u.success,f=u.categoryType,x=function(e){return function(t){var c,n;"categoryType"===e&&"category"===t.target.value?b(Object(j.a)(Object(j.a)({},u),{},(c={},Object(l.a)(c,e,t.target.value),Object(l.a)(c,"main",!0),c))):b(Object(j.a)(Object(j.a)({},u),{},(n={},Object(l.a)(n,e,t.target.value),Object(l.a)(n,"main",!1),n)))}};return Object(C.jsx)(w,{title:"UPDATE CATEGORY",children:Object(C.jsxs)("form",{className:"container text-left border p-3",children:[Object(C.jsx)(s.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),p&&Object(C.jsx)("div",{className:"alert alert-success container",children:"Successfully Updated"}),O&&Object(C.jsx)("div",{className:"alert alert-danger container",children:O}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:x("name"),placeholder:"Enter Name",value:m})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Type"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:x("categoryType"),value:f,children:[Object(C.jsx)("option",{value:"",children:"Select Category Type"}),Object(C.jsx)("option",{value:"category",children:"Category"}),Object(C.jsx)("option",{value:"subcategory",children:"Subcategory"})]})})]}),Object(C.jsx)("button",{onClick:function(e){e.preventDefault(),function(e,t,c,n){return fetch("".concat(y,"/category/").concat(c,"/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(a._id,r,t.params.categoryId,{name:m,main:h}).then((function(e){e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):(k(t.params.categoryId),b(Object(j.a)(Object(j.a)({},u),{},{success:!0})))}))},className:"btn btn-outline-primary mt-4",children:"Update Category"})]})})}c(64);function te(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=S(),o=r.user,l=r.token;Object(n.useEffect)((function(){j()}),[]);var j=function(){P().then((function(e){e.error?console.log(e.error):a(e)}))},d=function(e){console.log(c),function(e,t,c){return fetch("".concat(y,"/product/").concat(c,"/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(o._id,l,e).then((function(e){e.error?console.log(e.error):(j(),alert("product deleted successfully"))}))};return Object(C.jsx)(w,{title:"Manage Products",children:Object(C.jsx)("div",{className:"manage-products",style:{width:"95%",margin:"20px auto"},children:c.map((function(e,t){return function(e,t,c,n,a){return Object(C.jsxs)("div",{className:"indi-card",children:[Object(C.jsx)("div",{className:"indi-card-container",children:Object(C.jsx)("img",{src:c,className:"card-image",alt:""})}),Object(C.jsxs)("div",{className:"indi-card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:t}),Object(C.jsxs)("p",{className:"card-text",children:["$",n]}),Object(C.jsx)(s.b,{to:"/admin/update/product/".concat(a),className:"btn btn-success m-2",children:"Update"}),Object(C.jsx)("button",{className:"btn btn-danger m-2",onClick:function(){return d(a)},children:"Delete"})]})]},e)}(t,e.name,D(e._id),e.price,e._id)}))})})}function ce(e){var t=e.match,c=S(),a=c.user,r=c.token,o=Object(n.useState)({name:"",description:"",price:"",photo:"",stock:"",category:"",subcategory:"",categories:[],error:!1,success:!1,formData:""}),d=Object(i.a)(o,2),u=d[0],b=d[1],m=u.name,h=u.description,O=u.price,p=u.stock,f=(u.photo,u.category),x=u.categories,g=u.subcategory,N=u.error,v=u.success,E=u.formData;Object(n.useEffect)((function(){k()}),[]);var k=function(){T(t.params.productId).then((function(e){e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error})):(b(Object(j.a)(Object(j.a)({},u),{},{name:e.name,description:e.description,price:e.price,stock:e.stock,category:e.category,subcategory:e.subcategory,formData:new FormData})),P())}))},P=function(){A().then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error,success:!0})):b({categories:e,formData:new FormData})})).catch((function(e){return console.log(e)}))},D=function(e){return function(t){var c;console.log(u);var n="photo"===e?t.target.files[0]:t.target.value;E.set(e,n),b(Object(j.a)(Object(j.a)({},u),{},(c={},Object(l.a)(c,e,n),Object(l.a)(c,"success",!1),c))),console.log(u)}},I=function(e){e.preventDefault(),function(e,t,c,n){return fetch("".concat(y,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,a._id,r,E).then((function(e){console.log(e),e.error?b(Object(j.a)(Object(j.a)({},u),{},{error:e.error,success:!1})):b(Object(j.a)(Object(j.a)({},u),{},{error:!1,success:!0}))})).catch((function(e){return console.log(e)}))};return Object(C.jsx)(w,{title:"UPDATE PRODUCT",description:"Here you can update products for your customers",children:Object(C.jsxs)("div",{children:[N&&Object(C.jsx)("div",{className:"alert alert-danger container",children:N}),v&&Object(C.jsx)("div",{className:"alert alert-success container",children:"Successfully Updated"}),Object(C.jsxs)("form",{className:"container text-left border p-3",children:[Object(C.jsx)(s.b,{to:"/admin/dashboard",className:"btn btn-dark mb-4",children:"Admin Dashboard"}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputPhoto",className:"col-sm-2 col-form-label",children:"Image"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"file",className:"form-control",id:"inputPhoto",onChange:D("photo")})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:D("name"),placeholder:"Enter Name",value:m})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputDes",className:"col-sm-2 col-form-label",children:"Description"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("textarea",{type:"text",className:"form-control",id:"inputDes",onChange:D("description"),placeholder:"Enter Description",value:h})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputPrice",className:"col-sm-2 col-form-label",children:"Price"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"number",className:"form-control",id:"inputPrice",onChange:D("price"),placeholder:"Enter Price",value:O})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputCategory",className:"col-sm-2 col-form-label",children:"Category"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputCategory",onChange:D("category"),value:f,children:[Object(C.jsx)("option",{value:"",children:"Select"}),x.map((function(e,t){if(e.main)return Object(C.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputSubCategory",className:"col-sm-2 col-form-label",children:"Subcategory"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsxs)("select",{className:"form-control",id:"inputSubCategory",onChange:D("subcategory"),value:g,children:[Object(C.jsx)("option",{value:"",children:"Select"}),x.map((function(e,t){if(!e.main)return Object(C.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(C.jsxs)("div",{className:"form-group row",children:[Object(C.jsx)("label",{htmlFor:"inputStock",className:"col-sm-2 col-form-label",children:"Stock"}),Object(C.jsx)("div",{className:"col-sm-10",children:Object(C.jsx)("input",{type:"number",className:"form-control",id:"inputSold",onChange:D("stock"),placeholder:"Enter Stock",value:p})})]}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",onClick:I,children:"Update Product"})]})]})})}function ne(e){var t=e.order,c=e.products,a=e.reload,r=e.setReload,s=S(),o=s.user,l=s.token,j=Object(n.useState)(""),d=Object(i.a)(j,2),u=d[0],b=d[1],m=Object(n.useState)(""),h=Object(i.a)(m,2),O=(h[0],h[1],Object(n.useState)([])),p=Object(i.a)(O,2),f=p[0],x=p[1];Object(n.useEffect)((function(){c.map((function(e){N(e.product)}))}),[]);var g,N=function(){var e=Object(L.a)(M.a.mark((function e(t){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:c=e.sent,x((function(e){return[].concat(Object(K.a)(e),[c.name])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"row container-fluid border",children:[(g=t.user,void function(e){return fetch("".concat(y,"/user/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(g).then((function(e){e.error?console.log("error in getting username",e.error):b(e.name)}))),Object(C.jsx)("div",{className:"col-md-4",children:Object(C.jsx)("h4",{children:u})}),Object(C.jsx)("div",{className:"col-md-4",children:Object(C.jsxs)("ul",{className:"list-group",children:[f.map((function(e,t){return Object(C.jsxs)("li",{className:"list-group-item",children:[" ",e," "]},t)})),Object(C.jsxs)("li",{className:"list-group-item",children:[" Amount : ",t.amount," "]})]})}),Object(C.jsx)("div",{className:"col-md-4",children:Object(C.jsxs)("select",{onChange:function(e){R(t._id,o._id,{status:e.target.value},l).then((function(e){e.error?console.log(e.error):r(!a)}))},value:t.status,children:[Object(C.jsx)("option",{value:"Received",children:"Received"}),Object(C.jsx)("option",{value:"Deliverd",children:"Deliverd"}),Object(C.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(C.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})})]})}function ae(){var e=S(),t=e.user,c=e.token,a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),d=j[0],u=j[1];Object(n.useEffect)((function(){b()}),[d]);var b=function(){var e=Object(L.a)(M.a.mark((function e(){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t._id,c);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(w,{title:"Manage Orders",children:[Object(C.jsxs)("div",{className:"row container m-auto border",children:[Object(C.jsx)("div",{className:"col-md-4 ",children:Object(C.jsx)("h3",{children:"Order By"})}),Object(C.jsx)("div",{className:"col-md-4",children:"products"}),Object(C.jsx)("div",{className:"col-md-4",children:Object(C.jsx)("h3",{children:"Update Order Status"})})]}),s.length&&Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-primary",children:"Received"}),s.map((function(e,t){if("Received"==e.status)return Object(C.jsx)(ne,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-primary",children:"Shipped"}),s.map((function(e,t){if("Shipped"==e.status)return Object(C.jsx)(ne,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-success",children:"Deliverd"}),s.map((function(e,t){if("Deliverd"==e.status)return Object(C.jsx)(ne,{order:e,products:e.products,reload:d,setReload:u},t)}))]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-warning",children:"Cancelled"}),s.map((function(e,t){if("Cancelled"==e.status)return Object(C.jsx)(ne,{order:e,products:e.products,reload:d,setReload:u},t)}))]})]})]})}c(65);function re(e){var t=e.match,c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(!0),l=Object(i.a)(o,2),j=l[0],d=l[1];Object(n.useEffect)((function(){"sale"===t.params.category||"new"===t.params.category?P().then((function(e){s(e)})):A().then((function(e){e.map((function(e,c){var n="accessories"===t.params.category?"watch":t.params.category;e.name.toLowerCase()===n&&u(e._id)}))})),d(!1)}),[r]),Object(n.useEffect)((function(){d(!0)}),[]);var u=function(e){var c,n;"shoe"!==t.params.category&&"accessories"!==t.params.category?(n=e,fetch("".concat(y,"/products/category/?category=").concat(n),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){s(e)})):(c=e,fetch("".concat(y,"/products/subcategory/?subcategory=").concat(c),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){s(e)}))};return Object(C.jsx)(w,{title:"",children:Object(C.jsxs)("div",{className:"products-area",children:[Object(C.jsxs)("h4",{children:["BEST FOR ",Object(C.jsxs)("span",{style:{textTransform:"uppercase"},children:[t.params.category," CATEGORIES"]})]}),Object(C.jsx)("h6",{children:"TOP PRODUCTS OF THIS WEEK"}),Object(C.jsx)("h3",{className:"border-bottom",children:t.params.category+"("+r.length+")"}),j?Object(C.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(C.jsx)("span",{className:"visually-hidden"})}):Object(C.jsx)("div",{className:"products-container",children:r.map((function(e,t){return Object(C.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price},t)}))})]})})}c(40);var se=c(43),oe=c(28),ie=c.n(oe);function le(e){var t=e.setReload,c=e.reload,a=e.id,r=e.productQuantity,s=(e.total,e.getTotal),o=S(),l=o.user,d=o.token,u=Object(n.useState)({name:"",price:"",quantity:r,error:!1}),b=Object(i.a)(u,2),m=b[0],h=b[1],O=m.name,p=m.price,f=(m.error,m.quantity);Object(n.useEffect)((function(){T(a).then((function(e){e.error?h(Object(j.a)(Object(j.a)({},m),{},{error:e.error})):h(Object(j.a)(Object(j.a)({},m),{},{name:e.name,price:e.price}))}))}),[]),Object(n.useEffect)((function(){s(f*p)}),[O]),Object(n.useEffect)((function(){g()}),[f]);var x=function(e){(function(e,t,c){return fetch("".concat(y,"/user/cart/delete/").concat(t,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(l._id,e,d).then((function(e){e.error?console.log(e.error):t(!c)}))},g=function(){(function(e,t,c,n){return fetch("".concat(y,"/user/cart/").concat(t,"/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(l._id,a,d,{quantity:f}).then((function(e){e.error?console.log(e.error):t(!c)}))};return Object(C.jsxs)("div",{className:"cart",children:[Object(C.jsx)("div",{className:"left-block",children:Object(C.jsx)("img",{src:D(a)})}),Object(C.jsxs)("div",{className:"center-block",children:[Object(C.jsx)("p",{className:"ml-2",children:O}),Object(C.jsxs)("span",{children:["$",p,".00"]}),Object(C.jsxs)("div",{className:"quantity-section",children:[1===f?Object(C.jsx)("button",{children:"-"}):Object(C.jsx)("button",{onClick:function(){h(Object(j.a)(Object(j.a)({},m),{},{quantity:f-1})),s(-p)},children:"-"}),Object(C.jsx)("span",{children:f}),Object(C.jsx)("button",{onClick:function(){h(Object(j.a)(Object(j.a)({},m),{},{quantity:f+1})),s(p)},children:"+"})]}),Object(C.jsxs)("span",{children:["$",f*p,".00"]})]}),Object(C.jsx)("div",{className:"right-block",children:Object(C.jsx)(ie.a,{className:"delete-icon ml-4",onClick:function(){return x(a)}})})]})}function je(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(n.useState)(0),d=Object(i.a)(j,2),u=d[0],b=d[1],m=S(),h=m.user,O=m.token;Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(y,"/user/cart/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(h._id,O).then((function(e){console.log(e),e.error?console.log(e.error):a(e)}))}),[o]);var p=function(e){b(u+e)},f=function(){var e=Object(L.a)(M.a.mark((function e(){var t,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)("pk_test_51IIS0eGrSxjWACMwKCRsOK8brByghKjn5gLYAhHDZnyVGtPB4l7PURQqNDiN8EQl8yN6fKfKOsxAafpBJv7YshbI004H3rZkCW");case 2:return t=e.sent,e.next=5,z(c);case 5:return n=e.sent,console.log(n),localStorage.setItem("order",JSON.stringify({products:c,amount:u,transaction_id:n.id,user:h._id})),e.next=10,t.redirectToCheckout({sessionId:n.id});case 10:e.sent;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(w,{title:"SHOPPING CART",children:[0!==c.length?c.map((function(e,t){return Object(C.jsx)(le,{reload:o,setReload:l,id:e.product,productQuantity:e.quantity,total:u,getTotal:p},t)})):Object(C.jsx)("h1",{className:"text-danger",children:"No Products In Cart"}),0!==c.length&&Object(C.jsxs)("div",{className:"delete-section",children:[Object(C.jsx)(ie.a,{className:"ml-4"}),Object(C.jsx)("span",{onClick:function(){_(h._id,O).then((function(e){e.error?console.log(e.error):l(!o)}))},children:"Delete All Products"})]}),0!==c.length&&Object(C.jsxs)("div",{className:"checkout",children:[Object(C.jsxs)("div",{className:"checkout-section",children:[Object(C.jsx)("span",{className:"mr-4",children:"SUBTOTAL"}),Object(C.jsxs)("span",{children:["$",u,".00"]})]}),Object(C.jsx)("button",{className:"btn btn-outline-primary mt-4",onClick:f,children:"PROCEED TO CHECKOUT"})]})]})}function de(){var e=Object(n.useState)("No Message"),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search);e.get("success")&&a("Order placed! You will receive an email confirmation."),e.get("canceled")&&a("Order canceled -- continue to shop around and checkout when you're ready.")}),[]),Object(C.jsx)("div",{children:Object(C.jsx)("h1",{className:"text-success",children:c})})}function ue(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],j=s[1],d=S(),u=(d.user,d.token,new URLSearchParams(Object(o.g)().search).get("q"));Object(n.useEffect)((function(){P().then((function(e){a([]),e.error?console.log(e.error):e.map((function(e,t){e.name.toLowerCase().includes(u.toLowerCase())&&a((function(t){return[].concat(Object(K.a)(t),[e])}))}))}))}),[l]);return Object(C.jsx)(w,{children:Object(C.jsx)("div",{className:"products-container",children:c.length?c.map((function(e,t){return Object(C.jsx)(F,{id:e._id,name:e.name,className:"col-md-4",price:e.price,isHome:!0},t)})):Object(C.jsx)("h1",{children:"No Such Products"})}),title:"",reload:l,setReload:j})}function be(){return Object(C.jsx)(s.a,{children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{exact:!0,path:"/",component:H}),Object(C.jsx)(o.b,{exact:!0,path:"/products",component:ue}),Object(C.jsx)(o.b,{exact:!0,path:"/signin",component:q}),Object(C.jsx)(o.b,{exact:!0,path:"/signup",component:Y}),Object(C.jsx)(o.b,{exact:!0,path:"/result",component:de}),Object(C.jsx)(o.b,{exact:!0,path:"/collections/:category",component:re}),Object(C.jsx)(W,{exact:!0,path:"/cart",component:je}),Object(C.jsx)(W,{exact:!0,path:"/user/dashboard",component:$}),Object(C.jsx)(J,{exact:!0,path:"/admin/dashboard",component:Q}),Object(C.jsx)(J,{exact:!0,path:"/admin/create/product",component:V}),Object(C.jsx)(J,{exact:!0,path:"/admin/create/category",component:X}),Object(C.jsx)(J,{exact:!0,path:"/admin/manage/categories",component:Z}),Object(C.jsx)(J,{exact:!0,path:"/admin/manage/products",component:te}),Object(C.jsx)(J,{exact:!0,path:"/admin/manage/orders",component:ae}),Object(C.jsx)(J,{path:"/admin/update/category/:categoryId",component:ee}),Object(C.jsx)(J,{path:"/admin/update/product/:productId",component:ce})]})})}c(66),c(67);r.a.render(Object(C.jsx)(be,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.d92ef45a.chunk.js.map